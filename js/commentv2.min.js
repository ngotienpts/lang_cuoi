var comment=function(){setuser=!1;var e={noLogin:!0,usingPopup:0,usingCaptcha:0,siteName:"",PageIndexComment:1,checkShowLoginVietID:0,checkSendCmDetail:0,username:"",useremail:"",isSupComment:0,idComment:0,commentContent:"",captcha:"",avatar:"",settings:"",orderComment:2,refId:"",initPopup:!0,domain:"",pageSize:1,newsId:"",newsSapo:"",newsTitle:"",newsUrl:"",newsZoneId:"",newsDistributionDate:"",newsAvatar:"",newsObjectType:1};function t(){var t=U("_ck_user");if(t)try{t=JSON.parse(t),e.username=null==t.name||""==t.name?t.email:t.name,e.useremail=t.email,e.refId=t.id,e.token=t._token,e.avatar=t.avatar}catch(n){console.log(n)}}function n(){var t=U("_ck_user");if(t)try{t=JSON.parse(t),e.username=null==t.name||""==t.name?t.email:t.name,e.useremail=t.email,e.refId=t.id,e.token=t._token,e.avatar=t.avatar}catch(n){console.log(n)}$(".username").val(e.username),$(".useremail").val(e.useremail);var o="#detail_comment";e.siteName=$(o).attr("data-sitename"),e.domain=$(o).attr("data-domain-comment"),e.pageSize=$(o).attr("page-size"),e.newsId=$(o).attr("data-news-id"),e.newsSapo=$(o).attr("data-news-sapo"),e.newsTitle=$(o).attr("data-news-title"),e.newsUrl=$(o).attr("data-news-url"),e.newsZoneId=$(o).attr("data-news-zone-id"),e.newsDistributionDate=$(o).attr("data-news-distribution-date"),e.newsDistributionDate=$(o).attr("data-news-distribution-date"),e.newsAvatar=$(o).attr("data-news-avatar"),e.newsObjectType=$(o).attr("data-news-object-type"),$(o).html('<div class="detail__comment notPopUp blNoLogin">\n            <div class="box-comment ykcb" id="ykcb-form">\n                <div class="title-comment">\n                    <p class="text">\n                        <span>B\xecnh luận</span>\n                    </p>\n                </div>\n                <div class="t-content">\n                    <textarea placeholder="Chia sẻ \xfd kiến của bạn" class="btn-comment require" id="txt_bl" name="txt_bl"></textarea>\n                </div>\n                <div class="input-info">\n                    <div class="umail">\n                        <input type="text" id="emailcmthuong" class="require" placeholder="Nhập email"/>\n                    </div>\n                    <div class="uname">\n                        <input type="text" id="usercmthuong" class="require" placeholder="Họ v\xe0 t\xean"/>\n                    </div>\n                    <div>\n                        <input type="hidden" id="pu-usercmthuong" value=""/>\n                    </div>\n                    <div>\n                        <input type="hidden" id="pu-emailcmthuong" value=""/>\n                    </div>\n                </div>\n                <div class="box-bottom">\n                    <a href="javascript:;" id="btn_bl" class="btn-submit">Gửi b\xecnh luận</a>\n                </div>\n            </div>\n            <div class="cmbl">\n                <div class="filter_coment">\n                    <a href="javascript:;" class="active" rel="2">Quan t\xe2m nhất</a>\n                    <a href="javascript:;" class="" rel="1">Mới nhất</a>\n                </div>\n                <div class="list-comment content_cm" data-page-size="5">\n\n                </div>\n                <a href="javascript:;" class="view-more" id="ViewMoreComment" style="display: none">Xem tất cả b\xecnh luận</a>\n            </div>\n        </div>'),d(o),r("#detail_comment"),I(o),y(o),m(o),x(),s(o),c(o),L(o),$("#commentNologin").on("click",function(){$(".alert-box").removeClass("show"),$(".alert-box").removeClass("login-box"),$("body").removeClass("show-alert-box"),$(".detail__comment.notPopUp").addClass("blNoLogin"),$("#boxCommentPopup .login-comment").addClass("hidden"),e.noLogin=!0}),1==e.usingPopup?($(".disablepop").remove(),p(o),f()):($(".disablepop").removeClass("disablepop"),$("#cmt-popup-comment-getinfo").remove());let a=window.location.search,i=new URLSearchParams(a),l=i.get("cmtid");$(document).ready(function(){l&&setTimeout(()=>{$("html, body").animate({scrollTop:$(".cmbl .list-comment").offset().top-100},1e3)},2e3)}),$(".modal__commentpopup .close-modal").click(function(e){e.preventDefault(),$("body").removeClass("open-modalcomment")}),$(".scoll-comment").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(".detail__comment").offset().top-200},1e3)})}function o(){var t="#boxCommentPopup";e.initPopup&&(r(t),I(t),y(t),m(t),c(t),s(t),e.initPopup=!1);var n=$("#popupFormComment").height(),o=$("#popupFormComment .box-comment").outerHeight(),a=$("#popupFormComment .filter_coment").outerHeight(),i=$("#popupFormComment .box-comment-bottom").outerHeight(),l=n-o-a-i;$("#popupFormComment .cmbl").css("max-height",""+l+"px"),$(t).find("#ViewMoreComment").remove()}function a(){var t=U("_ck_user"),n="#detail_comment";if(d(n),t){try{t=JSON.parse(t),e.username=null==t.name||""==t.name?t.email:t.name,e.useremail=t.email,e.refId=t.sub,e.token=t._token,e.avatar=t.avatar}catch(o){console.log(o)}console.log(e.username)}var a=n.attr("data-sitename");e.siteName=a}function i(){$("#cmt-popup-comment-getinfo").css("display","block"),$(".login").addClass("show")}function r(e){$(e).find("#ViewMoreComment").click(function(){T(e)})}function m(e){$(e).find(".cmbl").on("click",".rep",function(){var t=$(this),n=t.attr("data-id"),o=void 0!==t.attr("data-replyname")?t.attr("data-replyname"):"";$(e).find(".formreplaycomment").remove(),$(this).parent(".item-bottom").hasClass("show-formreplay")?($(this).parent(".item-bottom").removeClass("show-formreplay"),$(".show-formreplay").remove()):($(e).find(".show-formreplay").removeClass("show-formreplay"),$(this).parent(".item-bottom").addClass("show-formreplay"),$(this).parent(".item-bottom").after(`<div class="item-reply replycmt formreplaycomment">
                            <div class="box-comment">
                                <div class="t-content">
                                    <textarea id="txt_bl${n}"  placeholder="Nhập b\xecnh luận" class="btn-comment txt_bl require" comment-parent="${n}" data-replyname="${o}"></textarea>
                                </div>
                                <div class="input-info">
                                    <div class="umail">
                                        <input type="text" id="emailcmthuong${n}" class="require" placeholder="Nhập email">
                                    </div>
                                    <div class="uname">
                                        <input type="text" id="usercmthuong${n}" class="require" placeholder="Họ v\xe0 t\xean">
                                    </div>

                                    <div>
                                        <input type="hidden" id="pu-usercmthuong" value="">
                                    </div>
                                    <div>
                                        <input type="hidden" id="pu-emailcmthuong" value="">
                                    </div>
                                </div>
                                <div class="box-bottom">
                                    <a href="javascript:void(0)" id="btn_bl${n}" data-id="${n}" class="btn-submit sendSubComment">Gửi b\xecnh luận</a>
                                </div>
                            </div>
                        </div>`))})}function s(t){$(t).find(".cmbl").on("click",".sendSubComment",function(){var n=$(this);e.idComment=n.attr("data-id");var o=n.attr("data-id"),a=$(t).find("#txt_bl"+o).val();if(void 0==a&&(a=$(t).find("#txt_bl"+e.idComment).val()),e.commentContent=a,e.noLogin)e.useremail=$(t).find("emailcmthuong"+o).val(),e.username=$(t).find("usercmthuong"+o).val(),l(`${t} #ReplyComment`+o)&&(d(t),u(t)&&_(t));else if(U("_ck_user")){if(""==a){alert("Vui l\xf2ng nhập nội dung b\xecnh luận"),$(t).find("#txt_bl").blur();return}$(this).addClass("disable"),setTimeout(function(){$(t).find(".cmbl .sendSubComment").removeClass("disable")},5e3),d(t),_(t)}else alert("Bạn cần đăng nhập để thực hiện chức năng n\xe0y!",function(){$(".login-box").addClass("show")})})}function c(t){$(t).find("#btn_bl").click(function(){if(e.idComment=0,e.noLogin)l(`${t} .notPopUp .ykcb`),l(`${t} .notPopUp .ykcb`)&&(d(t),u(t)&&_(t));else if(U("_ck_user")){if(1==e.usingPopup){var n=$(t).find("#txt_bl").val();if(""==n){alert("Vui l\xf2ng nhập nội dung b\xecnh luận"),$(t).find("#txt_bl").unfo;return}i()}else{var n=$(t).find("#txt_bl").val();if(""==n){alert("Vui l\xf2ng nhập nội dung b\xecnh luận"),$(t).find("#txt_bl").blur();return}$(this).addClass("disable"),setTimeout(function(){$("#btn_bl").removeClass("disable")},5e3),d(t),_(t)}}else alert("Bạn cần đăng nhập để thực hiện chức năng n\xe0y!",function(){$(".login-box").addClass("show"),$("body").addClass("show-alert-box")})})}function l(e){return $(e+" .require").each(function(){""==$(this).val()?$(this).parent().addClass("inval"):($(this).parent().removeClass("inval"),$(this).parent().removeClass("erroMail"))}),!($(e+" .inval").length>0)}function d(t){var n=`${t} #usercmthuong`,o=`${t} #emailcmthuong`;if(1==e.usingPopup?(n=`${t} #pu-usercmthuong`,o=`${t} #pu-emailcmthuong`):0!=e.idComment&&(n+=e.idComment,o+=e.idComment,console.log(o,n)),e.noLogin)var a=$(n).val()?$(n).val():"",i=$(o).val()?$(o).val():"";else var a=e.username,i=e.useremail;if(a!=e.username&&M("comment-username",a,43200),i!=e.useremail&&M("comment-useremail",i,43200),e.username=a,e.useremail=i,0==e.idComment)e.commentContent=$(t).find("#txt_bl").val();else{var r=void 0!==$(t).find("#txt_bl"+e.idComment).attr("data-replyname")?$(t).find("#txt_bl"+e.idComment).attr("data-replyname"):"";r=r?`@${r}, `:"";var m=$(t).find("#txt_bl"+e.idComment).val();e.commentContent=r+m}}function u(t){var n=`${t} #usercmthuong`,o=`${t} #emailcmthuong`,a=!0;return 0!=e.idComment&&(n+=e.idComment,o+=e.idComment),vldEmail=!0,""==e.username||"Họ t\xean"==e.username?($(n).focus(),a=!1):""==e.useremail?vldEmail=!1:(("undefined"!==e.username||void 0!==e.username)&&(e.username=e.username.substring(0,50),e.username=e.username.replace(","," ").replace("."," ")),D(e.useremail)||($(o).parent().addClass("erroMail"),vldEmail=!1),("undefined"!==e.username||void 0!=e.username)&&(e.useremail=e.useremail.substring(0,120))),!!(a&&vldEmail)&&(d(t),!0)}function p(e){$(".sendbypopup").click(function(){d(e),u(e)&&_(e)})}function f(){$(".closepucmt").on("click",function(){$("#cmt-popup-comment-getinfo").css("display","none")})}function h(){$("#imgcaptcha").attr("src",e.domain+"/api/capcha-comment.htm?t="+Math.random())}function v(t){$("#imgcaptcha"+t).attr("src",e.domain+"/api/capcha-comment.htm?t="+Math.random())}function _(t){var n=e.username,o=e.useremail,a=e.commentContent,i=e.newsTitle,r=e.newsUrl,m=e.newsZoneId,s=e.idComment,c=e.newsId.toString();e.newsDistributionDate,e.newsAvatar,e.newsSapo;var l=e.newsObjectType,d=e.refId;e.token;var u=O("comment"+e.siteName+c);if(null!=u&&""!=u){var p=new Date;try{var f=60-Math.floor((p.getTime()-u)/1e3)}catch(_){f=60}startTimer(f,document.querySelector("#second_comment")),alert("Bạn kh\xf4ng thể gửi b\xecnh luận li\xean tục",function(){$(".alert-comment-box").addClass("show")})}else $.ajax({type:"POST",url:e.domain+"/api/insert-comment.htm",data:{parentId:s,objectId:c,userid:d,objectType:l,senderEmail:o,senderFullName:encodeURI(n),newsTitle:encodeURI(i),object_url:r,zoneId:m,captcha:e.captcha,usingcaptcha:e.usingCaptcha,senderAvatar:e.avatar,SiteName:e.siteName,nContent:a},timeout:5e3,success:function(n){try{n=$.parseJSON(n)}catch(o){}if(1==n.status){$(t).find(".detail__comment input.require").val(""),!0==e.noLogin&&($('.alert-box[ischeck="alert"]').addClass("login-box"),$(t).find(".detail__comment").removeClass("blNoLogin"),$("#boxCommentPopup .login-comment").removeClass("hidden"),e.noLogin=!1,$(".require").each(function(){$(this).parent().removeClass("inval"),$(this).parent().removeClass("erroMail")})),alert("Bạn đ\xe3 b\xecnh luận th\xe0nh c\xf4ng v\xe0 đang chờ duyệt!"),$("body").removeClass("open-modalcomment"),$(".notification").addClass("show"),0==s?($("#txt_bl").val(""),$("#cmcaptcha").val(""),h()):($(t).find("#txt_bl"+s).val(""),$("#cmcaptcha"+s).val(""),$(t).find("#ReplyComment"+s).hide(),v(s),h());let a=new Date;M("ComentBGT"+c,a.getTime(),1,!1);var i=document.querySelector("#second_comment");startTimer(60,i),i=document.querySelector("#second_comment"),$("#cmt-popup-comment-getinfo").length>0&&$("#cmt-popup-comment-getinfo").css("display","none"),e.isSupComment=0,e.idComment=0,e.commentContent=""}else if(2==n.status){var r=O("ComentBGT"+c),m=new Date;try{var l=60-Math.floor((m.getTime()-r)/1e3)}catch(d){l=60}var i=document.querySelector("#second_comment");startTimer(l,i),alert("Bạn kh\xf4ng thể gửi b\xecnh luận li\xean tục",function(){$(".alert-comment-box").addClass("show")})}else 3==n.status?(alert("M\xe3 x\xe1c nhận kh\xf4ng đ\xfang!"),h()):(alert("Bạn đ\xe3 b\xecnh luận thất bại!"),$("body").removeClass("open-modalcomment"));e.checkSendCmDetail=0},complete:function(){}})}function g(t,n,o,a){var i=$(t).find(".list-comment").attr("data-page-size"),r=e.newsId,m=e.newsObjectType,s=e.domain+"/api/list-comment.htm?page="+n+"&newsId="+r+"&order="+o+"&pageSize="+i+"&objectType="+m+"&SiteName="+e.siteName;$.ajax({type:"GET",url:s,dataType:"html",timeout:5e3,success:function(n){if(n=n.trim(),console.log(n.length),$(t).find(".cmbl").removeClass("hidden"),(null!==n||" "!==n||""!==n)&&0!==n.length){n=n.replaceAll("%20"," "),1==a?($(t).find(".notPopUp .content_cm").append(n),$(".username").val(e.username),readMoreTextSimple.container=".box_cm",readMoreTextSimple.amountWords=120,readMoreTextSimple.init()):$(t).find(".notPopUp .content_cm").html(n),$(t).find(".notPopUp .box_cm").length<i?$(t).find(".notPopUp #ViewMoreComment").hide():$(t).find(".notPopUp #ViewMoreComment").show(),1==e.usingPopup&&$(t).find(".notPopUp .disablepop").remove();try{if(A("countComment"+r)){var o=$(t).find(".list-comment .user-name").length,m=A("countComment"+r);o>=m?$(t).find("#ViewMoreComment").hide():$(t).find("#ViewMoreComment").text(`Xem tất cả b\xecnh luận`)}$(t).find(".detail__comment .time-ago").timeago()}catch(s){console.log(s)}S(r,e.refId)}else {$(t).find("#ViewMoreComment").hide();if(n>1){$(t).find(".notPopUp .cmbl").hide()}}},complete:function(){}})}function C(){$("body").addClass("open-modalcomment"),setTimeout(function(){$(".modal__commentpopup").fadeIn(50)}),$(".open-modalcomment .modal__bg").click(function(e){e.preventDefault(),$("body").removeClass("open-modalcomment")}),o()}function b(e,t){$(e).find("#ReplyComment"+t).is(":hidden")?(v(t),$(e).find(".notPopUp #ReplyComment"+t).show(),$(e).find(".notPopUp #ReplyComment"+t).removeClass("hidden")):($(e).find(".notPopUp #ReplyComment"+t).hide(),$(e).find(".notPopUp #ReplyComment"+t).addClass("hidden"))}function y(t){$(t).find(".notPopUp .filter_coment").on("click","a",function(){var n=$(this),o=$(this).attr("rel");n.parent(".filter_coment").children("a").removeClass("active"),$(this).toggleClass("active"),e.orderComment=o,e.PageIndexComment=1,I(t)})}function x(){$(".notPopUp .cmbl").on("click",".like",function(){var e=$(this),t=$(this).attr("data-cmid"),n=parseInt($(this).children(".total-like").text());$(this).hasClass("disable-action")?(alert("Bạn đ\xe3 sử dụng chức năng n\xe0y. Đợi 1 ph\xfat để thao t\xe1c tiếp"),setTimeout(function(){$('[data-cmid="'+t+'"]').removeClass("disable-action")},6e4)):$(this).hasClass("active")?($(this).removeClass("active"),w(e,t,!1,n),$(this).find(".total-like").text(n-1)):($(this).addClass("active"),w(e,t,!0,n),$(this).find(".total-like").text(n+1))}),$(".notPopUp .cmbl").on("click",'[data-act="sharefb"]',function(){var e=pageSettings.Domain+$("#hdUrl").val();void 0===$("#hdUrl").val()&&(e=window.location.href),e=e+"?cmtid="+$(this).attr("data-cmid"),fbClient.shareClick(e)}),$(".notPopUp .cmbl").on("click",'[data-act="sharetwitter"]',function(){var e=pageSettings.Domain+$("#hdUrl").val();void 0===$("#hdUrl").val()&&(e=window.location.href),e=e+"?cmtid="+$(this).attr("data-cmid");var t=screen.width/2-350,n=screen.height/2-225,o=$(this).parents(".item-content").find(".text-comment").text(),a="https://twitter.com/intent/tweet?refer_source="+encodeURIComponent(e)+"&url="+encodeURIComponent(e)+"&text="+encodeURIComponent(o);return window.open(a,"chia sẻ","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=700, height=485, top="+n+", left="+t),!1})}function w(t,n,o,a){if(o)var i=e.domain+"/api/like-comment.htm",r=1;else{var i=e.domain+"/api/unlike-comment.htm";r=0}var m=$("#hdNewsId").val(),s=1;$.ajax({type:"POST",url:i,data:{objectId:m,objectType:s,comment_id:n,senderAvatar:e.avatar,SiteName:e.siteName},timeout:5e3,success:function(o){if(null!=o&&o.status){var i={id:n,reacttype:r,total:a+1,action:1},s="";void 0!=e.refId&&(s=e.refId),k(t,i,m,s)}},complete:function(){}})}function k(e,t,n,o){var a="_CK_CmtReact_"+n+"_"+o,i=e.attr("data-cmid"),r=[t],m=U(a);if(null!=m&&""!=m){var s=JSON.parse(m),c=!0;$.map(s,function(n){n.id==i&&(n.total=t.total,n.reacttype=t.reacttype,n.action=n.action+1,c=!1,n.action>=3&&e.addClass("disable-action"))}),c&&s.push(t),M(a,JSON.stringify(s),1,!1)}else M(a,JSON.stringify(r),1,!1)}function S(e,t){var n=U("_CK_CmtReact_"+e+"_"+t);null!=n&&""!=n&&JSON.parse(n).forEach(function(e){$('.list-comment .like[data-cmid="'+e.id+'"]').length>0&&(1==e.reacttype&&$('.list-comment .like[data-cmid="'+e.id+'"]').addClass("active"),e.action>=3&&$('.list-comment .like[data-cmid="'+e.id+'"]').addClass("disable-action"))})}function T(t){e.PageIndexComment++,g(t,e.PageIndexComment,e.orderComment,1)}function I(t){g(t,1,e.orderComment,0),$(t+".notPopUp #ViewMoreComment").show()}function O(e){var t=document.cookie,n=t.indexOf(" "+e+"=");if(-1==n&&(n=t.indexOf(e+"=")),-1==n)t=null;else{n=t.indexOf("=",n)+1;var o=t.indexOf(";",n);-1==o&&(o=t.length),t=unescape(t.substring(n,o))}return t}function P(e,t,n){if(n){var o=new Date;o.setTime(o.getTime()+864e5*n);var a="; expires="+o.toGMTString()}else var a="";t=base64Encode(t),document.cookie=e+"="+t+a+"; path=/"}function M(e,t,n,o=!0){if(n){var a=new Date;a.setTime(a.getTime()+6e4*n);var i="; expires="+a.toGMTString()}else var i="";o&&(t=base64Encode(t)),document.cookie=e+"="+t+i+"; path=/"}function U(e){return document.cookie.length>0&&-1!=(c_start=document.cookie.indexOf(e+"="))?(c_start=c_start+e.length+1,-1==(c_end=document.cookie.indexOf(";",c_start))&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function j(e){P(e,"",-1)}function N(e,t,n){let o=new Date,a={value:t,expiry:o.getTime()+n};localStorage.setItem(e,JSON.stringify(a))}function A(e){let t=localStorage.getItem(e);if(!t)return null;let n=JSON.parse(t),o=new Date;return o.getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}function D(e){var t="@",n=".",o=e.indexOf(t),a=e.length;return e.indexOf(n),-1!=e.indexOf(t)&&-1!=e.indexOf(t)&&0!=e.indexOf(t)&&e.indexOf(t)!=a&&-1!=e.indexOf(n)&&0!=e.indexOf(n)&&e.indexOf(n)!=a&&-1==e.indexOf(t,o+1)&&e.substring(o-1,o)!=n&&e.substring(o+1,o+2)!=n&&-1!=e.indexOf(n,o+2)&&-1==e.indexOf(" ")}function L(t){var n={url:e.domain+"/api/count-list-comment.htm?object_ids="+e.newsId+"&SiteName="+e.siteName,method:"GET",timeout:5e3};A("countComment"+e.newsId)?($(".scoll-comment .icon").append(`<span class="count">${A("countComment"+e.newsId)}</span>`),$('.box-comment [data-count-comment="'+e.newsId+'"]').html(`<span class="count">${A("countComment"+e.newsId)}</span>`),$("#popupFormComment").attr("data-pagesize",A("countComment"+e.newsId)),$("#popupFormComment .list-comment").attr("data-page-size",A("countComment"+e.newsId))):$.ajax(n).done(function(t){try{t=$.parseJSON(t)}catch(n){}if(t.success)try{if(t.data[0].comment_count){console.log(t.data[0].comment_count),$(".scoll-comment .icon").append(`<span class="count">${t.data[0].comment_count}</span>`),$('.box-comment [data-count-comment="'+e.newsId+'"]').html(`<span class="count">${t.data[0].comment_count}</span>`),$("#popupFormComment").attr("data-pagesize",t.data[0].comment_count),$("#popupFormComment .list-comment ").attr("data-page-size",t.data[0].comment_count),N("countComment"+e.newsId,t.data[0].comment_count,86400);var o=t.data[0].comment_count;3>=o?$("#detail_comment #ViewMoreComment").find("#ViewMoreComment").hide():$("#detail_comment #ViewMoreComment").text(`Xem tất cả b\xecnh luận`)}else $(".notPopUp .cmbl").hide(),$("#detail_comment").find(".notPopUp .title-comment .text span").text("H\xe3y l\xe0 người đầu ti\xean b\xecnh luận b\xe0i viết!"),$("#detail_comment").find(".count-comment").addClass("hidden")}catch(a){$("#detail_comment").find(".count-comment").addClass("hidden"),console.log(a)}else console.log("log count comment: "+t.message)})}return{init:function(t){$.extend(e,t),n()},initLoginPopup:function(t){$.extend(e,t),a()},pushData:d,initSettings:t,addComment:_,getCountComment:L,commentValidate:u,loadListCommentDetail:g,inited:!1}}(jQuery);function startTimer(e,t){var n,o,a,i=Date.now();let r=setInterval(m,1e3);function m(){if(o=(o=(n=e-((Date.now()-i)/1e3|0))/60|0)<10?"0"+o:o,a=(a=n%60|0)<10?"0"+a:a,t.textContent=a,n<=0){$(".alert-comment-box").removeClass("show"),clearInterval(r);return}}m()}var readMoreTextSimple={wrapper:".ReadMoreText",container:".box_cm",amountWords:40,init:function(){var e=this;$(e.wrapper).each(function(t,n){var o=n.innerHTML,a=o.split(" ");if(a.length>e.amountWords){for(var i=0,t=0;t<e.amountWords;t++)void 0!==a[t]&&(i+=1+a[t].length);var r=o.substr(0,i),m=o.replace(r,""),s=r+'<span class="dot">... </span><span class="readMore" style="color: #6093e6;cursor: pointer; display: inline-block;">&nbsp;xem th\xeam</span><span class="textMore" style="display: none">'+m;n.innerHTML=s}}),e.readMore(),e.readLess()},readMore:function(){var e=this;$(e.wrapper).find(".readMore").each(function(t,n){$(this).click(function(){var t=$(this).closest(e.wrapper);t.find(".dot").css("display","none"),t.find(".readMore").css("display","none"),t.find(".textMore").slideDown(),t.find(".textMore").css("display","unset")})})},readLess:function(){var e=this;$(e.wrapper).find(".readLess").each(function(t,n){$(this).click(function(){var t=$(this).closest(e.wrapper);t.find(".dot").css("display","inline-block"),t.find(".readMore").css("display","inline-block");var n=t.find(".textMore");n.slideUp(),$("html, body").animate({scrollTop:n.offset().top-300},600)})})}};String.prototype.replaceAll=function(e,t){var n=this;return n.replace(RegExp(e,"g"),t)};var MD5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,a,i,r;return(a=2147483648&e,i=2147483648&t,n=1073741824&e,o=1073741824&t,r=(1073741823&e)+(1073741823&t),n&o)?2147483648^r^a^i:n|o?1073741824&r?3221225472^r^a^i:1073741824^r^a^i:r^a^i}function o(e,t,n){return e&t|~e&n}function a(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function r(e,t,n){return t^(e|~n)}function m(e,a,i,r,m,s,c){return e=n(e,n(n(o(a,i,r),m),c)),n(t(e,s),a)}function s(e,o,i,r,m,s,c){return e=n(e,n(n(a(o,i,r),m),c)),n(t(e,s),o)}function c(e,o,a,r,m,s,c){return e=n(e,n(n(i(o,a,r),m),c)),n(t(e,s),o)}function l(e,o,a,i,m,s,c){return e=n(e,n(n(r(o,a,i),m),c)),n(t(e,s),o)}function d(e){for(var t,n=e.length,o=n+8,a=((o-o%64)/64+1)*16,i=Array(a-1),r=0,m=0;m<n;)t=(m-m%4)/4,r=m%4*8,i[t]=i[t]|e.charCodeAt(m)<<r,m++;return t=(m-m%4)/4,r=m%4*8,i[t]=i[t]|128<<r,i[a-2]=n<<3,i[a-1]=n>>>29,i}function u(e){var t,n,o="",a="";for(n=0;n<=3;n++)o+=(a="0"+(t=e>>>8*n&255).toString(16)).substr(a.length-2,2);return o}function p(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}var f,h,v,_,g,C,b,y,x,w=[],k=7,S=12,T=17,I=22,O=5,P=9,M=14,U=20,j=4,N=11,A=16,D=23,L=6,V=10,F=15,z=21;for(f=0,w=d(e=p(e)),C=1732584193,b=4023233417,y=2562383102,x=271733878;f<w.length;f+=16)h=C,v=b,_=y,g=x,C=m(C,b,y,x,w[f+0],k,3614090360),x=m(x,C,b,y,w[f+1],S,3905402710),y=m(y,x,C,b,w[f+2],T,606105819),b=m(b,y,x,C,w[f+3],I,3250441966),C=m(C,b,y,x,w[f+4],k,4118548399),x=m(x,C,b,y,w[f+5],S,1200080426),y=m(y,x,C,b,w[f+6],T,2821735955),b=m(b,y,x,C,w[f+7],I,4249261313),C=m(C,b,y,x,w[f+8],k,1770035416),x=m(x,C,b,y,w[f+9],S,2336552879),y=m(y,x,C,b,w[f+10],T,4294925233),b=m(b,y,x,C,w[f+11],I,2304563134),C=m(C,b,y,x,w[f+12],k,1804603682),x=m(x,C,b,y,w[f+13],S,4254626195),y=m(y,x,C,b,w[f+14],T,2792965006),b=m(b,y,x,C,w[f+15],I,1236535329),C=s(C,b,y,x,w[f+1],O,4129170786),x=s(x,C,b,y,w[f+6],P,3225465664),y=s(y,x,C,b,w[f+11],M,643717713),b=s(b,y,x,C,w[f+0],U,3921069994),C=s(C,b,y,x,w[f+5],O,3593408605),x=s(x,C,b,y,w[f+10],P,38016083),y=s(y,x,C,b,w[f+15],M,3634488961),b=s(b,y,x,C,w[f+4],U,3889429448),C=s(C,b,y,x,w[f+9],O,568446438),x=s(x,C,b,y,w[f+14],P,3275163606),y=s(y,x,C,b,w[f+3],M,4107603335),b=s(b,y,x,C,w[f+8],U,1163531501),C=s(C,b,y,x,w[f+13],O,2850285829),x=s(x,C,b,y,w[f+2],P,4243563512),y=s(y,x,C,b,w[f+7],M,1735328473),b=s(b,y,x,C,w[f+12],U,2368359562),C=c(C,b,y,x,w[f+5],j,4294588738),x=c(x,C,b,y,w[f+8],N,2272392833),y=c(y,x,C,b,w[f+11],A,1839030562),b=c(b,y,x,C,w[f+14],D,4259657740),C=c(C,b,y,x,w[f+1],j,2763975236),x=c(x,C,b,y,w[f+4],N,1272893353),y=c(y,x,C,b,w[f+7],A,4139469664),b=c(b,y,x,C,w[f+10],D,3200236656),C=c(C,b,y,x,w[f+13],j,681279174),x=c(x,C,b,y,w[f+0],N,3936430074),y=c(y,x,C,b,w[f+3],A,3572445317),b=c(b,y,x,C,w[f+6],D,76029189),C=c(C,b,y,x,w[f+9],j,3654602809),x=c(x,C,b,y,w[f+12],N,3873151461),y=c(y,x,C,b,w[f+15],A,530742520),b=c(b,y,x,C,w[f+2],D,3299628645),C=l(C,b,y,x,w[f+0],L,4096336452),x=l(x,C,b,y,w[f+7],V,1126891415),y=l(y,x,C,b,w[f+14],F,2878612391),b=l(b,y,x,C,w[f+5],z,4237533241),C=l(C,b,y,x,w[f+12],L,1700485571),x=l(x,C,b,y,w[f+3],V,2399980690),y=l(y,x,C,b,w[f+10],F,4293915773),b=l(b,y,x,C,w[f+1],z,2240044497),C=l(C,b,y,x,w[f+8],L,1873313359),x=l(x,C,b,y,w[f+15],V,4264355552),y=l(y,x,C,b,w[f+6],F,2734768916),b=l(b,y,x,C,w[f+13],z,1309151649),C=l(C,b,y,x,w[f+4],L,4149444226),x=l(x,C,b,y,w[f+11],V,3174756917),y=l(y,x,C,b,w[f+2],F,718787259),b=l(b,y,x,C,w[f+9],z,3951481745),C=n(C,h),b=n(b,v),y=n(y,_),x=n(x,g);return(u(C)+u(b)+u(y)+u(x)).toLowerCase()};function setWithExpiry(e,t,n){let o=new Date,a={value:t,expiry:o.getTime()+n};localStorage.setItem(e,JSON.stringify(a))}function getWithExpiry(e){let t=localStorage.getItem(e);if(!t)return null;let n=JSON.parse(t),o=new Date;return o.getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}"object"!=typeof JSON&&(JSON={}),function(){var cx,escapable,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,o,a,i,r,m=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(s)){for(n=0,i=s.length;n<i;n+=1)r[n]=str(n,s)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+m+"]":"["+r.join(",")+"]",gap=m,a}if(rep&&"object"==typeof rep)for(n=0,i=rep.length;n<i;n+=1)"string"==typeof rep[n]&&(a=str(o=rep[n],s))&&r.push(quote(o)+(gap?": ":":")+a);else for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a=str(o,s))&&r.push(quote(o)+(gap?": ":":")+a);return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+m+"}":"{"+r.join(",")+"}",gap=m,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;o<n;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,o,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(o=walk(a,n))?a[n]=o:delete a[n]);return reviver.call(e,t,a)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw SyntaxError("JSON.parse")})}();var base64Encode=function(e){var t,n,o,a,i,r,m,s="",c=0;for(e=uTF8Encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),o=e.charCodeAt(c++),a=t>>2,i=(3&t)<<4|n>>4,r=(15&n)<<2|o>>6,m=63&o,isNaN(n)?r=m=64:isNaN(o)&&(m=64),s=s+keyString.charAt(a)+keyString.charAt(i)+keyString.charAt(r)+keyString.charAt(m);return s},base64Decode=function(e){var t,n,o,a,i,r,m,s="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)a=keyString.indexOf(e.charAt(c++)),i=keyString.indexOf(e.charAt(c++)),r=keyString.indexOf(e.charAt(c++)),m=keyString.indexOf(e.charAt(c++)),t=a<<2|i>>4,n=(15&i)<<4|r>>2,o=(3&r)<<6|m,s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(n)),64!=m&&(s+=String.fromCharCode(o));return uTF8Decode(s)},uTF8Encode=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},uTF8Decode=function(e){for(var t="",n=0,o=c1=c2=0;n<e.length;)(o=e.charCodeAt(n))<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(t+=String.fromCharCode((31&o)<<6|63&(c2=e.charCodeAt(n+1))),n+=2):(t+=String.fromCharCode((15&o)<<12|(63&(c2=e.charCodeAt(n+1)))<<6|63&(c3=e.charCodeAt(n+2))),n+=3);return t},keyString="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
